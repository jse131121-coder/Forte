<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>FORTE</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{margin:0;background:black;color:white;font-family:Arial}
.hidden{display:none}
.center{
  height:100vh;display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center
}
input,textarea,button{
  width:80%;max-width:400px;
  background:black;color:white;
  border:1px solid white;
  padding:10px;margin:5px 0
}
nav{
  display:flex;justify-content:space-around;
  border-bottom:1px solid white;
  padding:10px 0
}
.page{padding:10px}
.post,.chat{border-bottom:1px solid #333;padding:8px}
.chat.forte{text-align:left}
.chat.artist{text-align:right}
.date{text-align:center;opacity:.5;font-size:12px;margin:10px 0}
pre{white-space:pre-wrap}
</style>
</head>

<body>

<!-- ë¡œê·¸ì¸ -->
<div id="loginBox" class="center">
  <h1>FORTE</h1>
  <input id="idInput" placeholder="ID">
  <input id="pwInput" type="password" placeholder="Password">
  <button onclick="doLogin()">LOGIN</button>
</div>

<!-- ì•± -->
<div id="appBox" class="hidden">

<nav>
  <button onclick="showPage('home')">HOME</button>
  <button onclick="showPage('community')">COMMUNITY</button>
  <button onclick="showPage('chat')">CHAT</button>
</nav>

<section id="home" class="page">
  Welcome to FORTE.
</section>

<section id="community" class="page hidden">
  <textarea id="postText" placeholder="Write... (ì¤„ë°”ê¿ˆ ê°€ëŠ¥)"></textarea>
  <button onclick="addPost()">POST</button>
  <div id="postList"></div>
</section>

<section id="chat" class="page hidden">
  <div id="chatBox"></div>
  <textarea id="chatText" placeholder="Message... (ì¤„ë°”ê¿ˆ ê°€ëŠ¥)"></textarea>
  <button onclick="sendChat()">SEND</button>
</section>

</div>

<script>
let user = null;

let posts = JSON.parse(localStorage.getItem("posts") || "[]");
let chats = JSON.parse(localStorage.getItem("chats") || "[]");

/* ë¡œê·¸ì¸ */
function doLogin(){
  const id = document.getElementById("idInput").value;
  const pw = document.getElementById("pwInput").value;

  if(id==="Artist" && pw==="Artist") user="Artist";
  else if(id==="Forte" && pw==="01024773752") user="Forte";
  else { alert("ë¡œê·¸ì¸ ì‹¤íŒ¨"); return; }

  document.getElementById("loginBox").classList.add("hidden");
  document.getElementById("appBox").classList.remove("hidden");

  renderPosts();
  renderChats();
}

/* íŽ˜ì´ì§€ */
function showPage(p){
  document.querySelectorAll(".page").forEach(x=>x.classList.add("hidden"));
  document.getElementById(p).classList.remove("hidden");
}

/* ì»¤ë®¤ë‹ˆí‹° */
function addPost(){
  const t=document.getElementById("postText");
  if(!t.value.trim()) return;

  posts.push({text:t.value});
  localStorage.setItem("posts",JSON.stringify(posts));
  t.value="";
  renderPosts();
}

function renderPosts(){
  const l=document.getElementById("postList");
  l.innerHTML="";
  posts.forEach((p,i)=>{
    const d=document.createElement("div");
    d.className="post";
    d.innerHTML=`
      <pre>${p.text}</pre>
      ${user==="Forte"?`<button onclick="delPost(${i})">ì‚­ì œ</button>`:""}
    `;
    l.appendChild(d);
  });
}

function delPost(i){
  posts.splice(i,1);
  localStorage.setItem("posts",JSON.stringify(posts));
  renderPosts();
}

/* ì±„íŒ… */
function sendChat(){
  const t=document.getElementById("chatText");
  if(!t.value.trim()) return;

  chats.push({
    user:user,
    text:t.value,
    date:new Date().toDateString()
  });
  localStorage.setItem("chats",JSON.stringify(chats));
  t.value="";
  renderChats();
}

function renderChats(){
  const b=document.getElementById("chatBox");
  b.innerHTML="";
  let last="";

  chats.forEach((c,i)=>{
    if(c.date!==last){
      const d=document.createElement("div");
      d.className="date";
      d.innerText=c.date;
      b.appendChild(d);
      last=c.date;
    }
    const div=document.createElement("div");
    div.className=`chat ${c.user==="Forte"?"forte":"artist"}`;
    div.innerHTML=`
      ${c.user==="Forte"?"Forte ðŸ–¤<br>":""}
      <pre>${c.text}</pre>
      ${user==="Forte"?`<button onclick="delChat(${i})">ì‚­ì œ</button>`:""}
    `;
    b.appendChild(div);
  });
}

function delChat(i){
  chats.splice(i,1);
  localStorage.setItem("chats",JSON.stringify(chats));
  renderChats();
}
</script>

</body>
</html>


 
